<div class="container">
    <div class="row">
        <h2>Issue Book</h2>
        <div class="col-8 col-md-4 col-lg-3">
            <mat-form-field appearance="outline" class="w-100">
                <mat-label>Enter Roll-Number</mat-label>
                <input matInput placeholder="Roll Number" type="text" [formControl]="rollNumber" />
            </mat-form-field>
        </div>
        <div class="col-4 col-md-2">
            <button type="button" class="btn btn-primary w-100 mt-2" (click)="getStudentDetails()">Find</button>
        </div>
    </div>
    <!-- it will visibile only after roll number enter and student find -->
    <div *ngIf="studentData">
        <!-- student details -->
        <div class="col-12">
            <div class="row justify-content-around">
                <mat-card class="col-12 col-md-6 py-5">
                    <div class="row align-items-center">
                        <div class="col-12 col-md-6 text-center order-md-2">
                            <img [src]="studentData.image === null ? '/assets/default-profile.png' : studentData?.image.url"
                                alt="Default Profile" decoding="async" loading="lazy" class="w-100 profile-image">
                        </div>
                        <div class="col-12 col-md-6 order-md-1">
                            <p class="mt-3">Name : <span class="text-primary">{{studentData.name}}</span></p>
                            <p>Roll Number : <span class="text-primary">{{studentData.rollNumber}}</span></p>
                            <p>Email : <span class="text-primary">{{studentData.email}}</span></p>
                        </div>
                    </div>
                </mat-card>
                <mat-card class="col-12 col-md-4 py-5">
                    <p>DOB : <span class="text-primary">{{studentData.dob | date}}</span></p>
                    <p>Year : <span class="text-primary">{{studentData.year}}</span></p>
                    <p>Mobile Number : <span class="text-primary">{{studentData.mobileNumber}}</span></p>
                    <p>Membership : <span class="text-primary">{{studentData.membership}}</span></p>
                    <p>membershipExpireDate : <span class="text-primary">{{studentData.membershipExpireDate
                            |date}}</span></p>
                </mat-card>
            </div>
        </div>
        <!-- book form -->
        <div class="row mt-2">
            <h2>Book Details</h2>
            <div class="col-8 col-md-4 col-lg-3">
                <mat-form-field appearance="outline" class="w-100">
                    <mat-label>Enter Book Id</mat-label>
                    <input matInput placeholder="Book Number" type="text" [formControl]="bookCode" />
                </mat-form-field>
            </div>
            <div class="col-4 col-md-2">
                <button type="button" class="btn btn-primary w-100 mt-2" (click)="getBookDetails()">Find</button>
            </div>
        </div>
        <!-- Book details -->
        <div class="col-12" *ngIf="bookData">
            <div class="row justify-content-around">
                <mat-card class="col-12 col-md-6 py-5">
                    <div class="row align-items-center">
                        <div class="col-12 col-md-6 text-center order-md-2">
                            <img [src]="bookData.image === null ? '/assets/book-2.webp' : bookData?.image.url"
                                alt="Default Book Image" decoding="async" loading="lazy" class="w-100 profile-image">
                        </div>
                        <div class="col-12 col-md-6 order-md-1">
                            <p class="mt-3">Title : <span class="text-primary">{{bookData.title}}</span></p>
                            <p>Book Code : <span class="text-primary">{{bookData.code}}</span></p>
                            <p>Author : <span class="text-primary">{{bookData.author.authorName}}</span></p>
                            <p>Author Email : <span class="text-primary">{{bookData.author.authorEmail}}</span></p>
                            <p>Book Price : <span class="text-primary">{{bookData.price}}</span></p>
                        </div>
                    </div>
                </mat-card>
                <mat-card class="col-12 col-md-4 py-5">
                    <p>Category : <span class="text-primary">{{bookData.category}}</span></p>
                    <p>Total Book Available : <span class="text-primary">{{bookData.totalCount}}</span></p>
                    <p>Edition : <span class="text-primary">{{bookData.edition}}</span></p>
                    <p>Visitor Count : <span class="text-primary">{{bookData.visitor}}</span></p>
                    <p>PublishedYear : <span class="text-primary">{{bookData.publishedYear | date}}</span></p>
                    <p>Publisher Name : <span class="text-primary">{{bookData.publisher}}</span></p>
                    <p>PreferredYear : <span class="text-primary">{{bookData.preferredYear}}</span></p>

                    <p class="text-center">
                        <button type="button" class="btn btn-info text-light mt-2" (click)="issueBook()">Issue Book</button>
                    </p>
                </mat-card>
            </div>
        </div>
    </div>
</div>